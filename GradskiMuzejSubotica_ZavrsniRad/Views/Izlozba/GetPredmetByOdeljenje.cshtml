@model IEnumerable<GradskiMuzejSubotica_ZavrsniRad.Models.PredmetBO>
@{
    string[] checkedPredmet = ViewBag.Checked;
}

<table class="table">
    <thead>
        <tr>
            <th>
                #
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ZbirkaId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Autor)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Mesto)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Vreme)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Stil)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Tehnika)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Materijal)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Dimenzije)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.BrDelova)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                
					<div class="form-check">
                        
                            <input class="form-check-input" type="checkbox"
                                   name="predmeti[]" id="@item.Id" value="@item.Id" />

					</div>
            </td>
                
            <td>
                @Html.DisplayFor(modelItem => item.Id)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ZbirkaId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Autor)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Mesto)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Vreme)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Stil)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Tehnika)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Materijal)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Dimenzije)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BrDelova)
            </td>
        </tr>
}
    </tbody>
</table>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://cdn.jsdelivr.net/jquery.cookie/1.4.0/jquery.cookie.min.js"></script>

<script>
    $(":checkbox").on("change", function () {
        var checkboxValues = {};
        $(":checkbox").each(function () {
            checkboxValues[this.id] = this.checked;
        });
        $.cookie('checkboxValues', checkboxValues, { expires: 7, path: '/' })
    });

    function repopulateCheckboxes() {
        var checkboxValues = $.cookie('checkboxValues');
        if (checkboxValues) {
            Object.keys(checkboxValues).forEach(function (element) {
                var checked = checkboxValues[element];
                $("#" + element).prop('checked', checked);
            });
        }
    }

    $.cookie.json = true;
    repopulateCheckboxes();
</script>

